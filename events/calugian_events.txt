namespace = oceanic_event

narrative_event = {
	id = oceanic_event.1
	title = TITLE_antanian_restoration
	desc = {
		text = EVTDESC_antanian_restoration
		trigger = {
			is_alternate_start = no
		}
	}
	picture = GFX_event_antanian_restoration
	trigger = {
	    culture = calugian
		has_landed_title = k_peninsula
		NOT = { has_global_flag = antania_restored }
	}
	mean_time_to_happen = {
		days = 1
	}
	option = {
		name = OPT_A_antanian_restoration
		prestige = 400
		set_global_flag = antania_restored
    }
}

character_event = {
	id = oceanic_event.2
	is_triggered_only = yes
	picture = GFX_evt_battle_scene
	border = GFX_event_normal_frame_war

	desc = {
		text = EVTDESC_oceanic_victory_ritual
		trigger = {
			is_alternate_start = no
		}
	}
	option = { #Agree to perform the ritual
		name = OPT_A_oceanic_victory_ritual
		wealth = -100
		narrative_event = { id = oceanic_event.20 days = 2 }
	}
	option = { #Refuse to perform the ritual
		name = OPT_B_oceanic_victory_ritual
		piety = -100
		random_list = {
			20 = { add_trait = cynical }
			20 = { give_nickname = nick_the_impious }
			80 = {}
		}
	}
	option = { #Take credit for the victory yourself
		name = OPT_C_oceanic_victory_ritual
		tooltip_info = proud
	    trigger = {
		    trait = proud
			NOT = { trait = zealous }
	    }
		prestige = 100
		piety = -150
		random_list = {
			20 = { add_trait = cynical }
			20 = { give_nickname = nick_the_impious }
			40 = { give_nickname = nick_the_proud }
			60 = {}
		}
	}
}
narrative_event = {
	id = oceanic_event.20
	title = TITLE_oceanic_victory_ritual_end
	is_triggered_only = yes
	picture = GFX_evt_aztec_sacrifice
	border = GFX_event_narrative_frame_war

	desc = {
		text = EVTDESC_oceanic_victory_ritual_end
	}
	
	option = { #Ritual ends
		name = OPT_A_oceanic_victory_ritual_end
		piety = 50
	}
}
narrative_event = {
	id = oceanic_event.3
	title = TITLE_oceanic_kinslayer_ritual
	is_triggered_only = yes
	picture = GFX_evt_aztec_sacrifice
	border = GFX_event_narrative_frame_war

	desc = {
		text = EVTDESC_oceanic_kinslayer_ritual
	}
	
	option = {
		name = OPT_A_oceanic_kinslayer_ritual
		trigger = {
			trait = kinslayer
		}
		remove_trait = kinslayer
		add_trait = dynastic_kinslayer
		piety = 100

	}
	option = {
		name = OPT_B_oceanic_kinslayer_ritual
		trigger = {
		    OR = {
		        trait = familial_kinslayer
				trait = dynastic_kinslayer
			}
		}
		remove_trait = familial_kinslayer
		remove_trait = dynastic_kinslayer
		piety = 100
	}
}
character_event = {
	id = oceanic_event.4
	is_triggered_only = yes
	picture = GFX_evt_battle_scene
	border = GFX_event_normal_frame_war

	desc = {
		text = EVTDESC_borrowing_oceanic
		trigger = {
			is_alternate_start = no
		}
	}
	option = { #Agree to borrow
		name = OPT_A_borrowing_oceanic
		clr_character_flag = borrowing_oceanic
		add_character_modifier = {
			name = borrowed_oceanic
			duration = -1
			inherit = yes
		}
		wealth = 400
		if = {
			limit = {
				primary_title = { has_law = tax_levy_law_theocracy_0 }
			}
			primary_title = {
			    revoke_law = tax_levy_law_theocracy_0
			    add_law_w_cooldown = tax_levy_law_theocracy_1
		    }
		}
		else_if = {
			limit = {
				primary_title = { has_law = tax_levy_law_theocracy_1 }
			}
			primary_title = {
			    revoke_law = tax_levy_law_theocracy_1
			    add_law_w_cooldown = tax_levy_law_theocracy_2
		    }
		}
		else_if = {
			limit = {
				primary_title = { has_law = tax_levy_law_theocracy_2 }
			}
			primary_title = {
			    revoke_law = tax_levy_law_theocracy_2
			    add_law_w_cooldown = tax_levy_law_theocracy_3
		    }
		}
		else_if = {
			limit = {
				primary_title = { has_law = tax_levy_law_theocracy_3 }
			}
			primary_title = {
			    revoke_law = tax_levy_law_theocracy_3
			    add_law_w_cooldown = tax_levy_law_theocracy_4
		    }
		}
		else_if = {
			limit = {
				primary_title = { has_law = tax_levy_law_theocracy_4 }
			}
			primary_title = {
			    revoke_law = tax_levy_law_theocracy_4
			    add_law_w_cooldown = tax_levy_law_theocracy_5
		    }
		}
		else_if = {
			limit = {
				primary_title = { has_law = tax_levy_law_theocracy_5 }
			}
			primary_title = {
			    revoke_law = tax_levy_law_theocracy_5
			    add_law_w_cooldown = tax_levy_law_theocracy_6
		    }
		}
		else_if = {
			limit = {
				primary_title = { has_law = tax_levy_law_theocracy_6 }
			}
			primary_title = {
			    revoke_law = tax_levy_law_theocracy_6
			    add_law_w_cooldown = tax_levy_law_theocracy_7
		    }
		}
		else_if = {
			limit = {
				primary_title = { has_law = tax_levy_law_theocracy_7 }
			}
			primary_title = {
			    revoke_law = tax_levy_law_theocracy_7
			    add_law_w_cooldown = tax_levy_law_theocracy_8
		    }
		}
		else = {
			prestige = -100
		}
	}
	option = { #Refuse to borrow
		name = OPT_B_borrowing_oceanic
		clr_character_flag = borrowing_oceanic
	}
}
### Hedgehog Marshal
character_event = {
	id = oceanic_event.5
	border = GFX_event_normal_frame_religion
	picture = GFX_evt_courier

	desc = {
		trigger = {
			culture = calugian
		}

		text = EVTDESC_sir_thunderhammer
		picture = GFX_evt_courier
	}
	
	min_age = 16
	prisoner = no
	only_capable = yes
	only_playable = yes
	
	trigger = {
		has_dlc = "Zeus"
		NOT = {
			has_game_rule = {
				name = silly_events
				value = off
			}
		}
		trait = lunatic
		culture = calugian
		any_voter = {
			has_job_title = job_marshal
			NOT = { race = hedgehog }
			OR = {
				ai = no
				liege = { ai = no }
				has_game_rule = {
					name = silly_events
					value = unrestricted
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 420
	}
	
	option = {
		name = OPT_A_sir_thunderhammer
		tooltip_info = lunatic
		job_marshal = {
			opinion = {
				modifier = opinion_fired_from_council
				who = ROOT
				years = 5
			}
			hidden_tooltip = {
				character_event = { id = 6318 }
			}
			remove_title = job_marshal
		}
		any_courtier = {
			limit = {
				race = hedgehog
			}
			give_job_title = job_marshal
			break = yes
		}

		tooltip = {
			create_character = {
				name = "Sir Thunderhammer"
				age = 16
				religion = ROOT
				culture = hedgehog_culture
				race = hedgehog
				dynasty = NONE
				trait = slow
				trait = strong
				trait = brave
				trait = frail
				trait = holy_warrior
				trait = brilliant_strategist
				trait = strategist
				martial = 20
			}
		}

		hidden_tooltip = {
			random_list = {
				50 = {
					create_character = {
						name = "Sir Thunderhammer"
						age = 16
						religion = ROOT
						culture = hedgehog_culture
						race = hedgehog
						dynasty = NONE
				        trait = slow
				        trait = strong
						trait = brave
				        trait = frail
				        trait = holy_warrior
						trait = brilliant_strategist
						trait = strategist
				        martial = 20
					}
				}
				50 = {
					create_character = {
						name = "Sir Thunderhammer"
						age = 16
						religion = ROOT
						culture = hedgehog_culture
						race = hedgehog
						dynasty = NONE
				        trait = slow
				        trait = strong
						trait = brave
				        trait = frail
				        trait = inspiring_leader
						trait = brilliant_strategist
						trait = strategist
				        martial = 20
					}
				}
			}
		}
		new_character = {
			give_job_title = job_marshal
			opinion = {
				modifier = opinion_my_master
				who = ROOT
				years = 100
			}
			reverse_opinion = {
				modifier = opinion_my_horse
				who = ROOT
				years = 100
			}
		}
	}
}